<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>‡∏™‡∏£‡∏∏‡∏õ‡∏ú‡∏•‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô | TOP25</title>
<link href="https://fonts.googleapis.com/css2?family=Mitr:wght@400;600;700&display=swap" rel="stylesheet">
<style>
:root{--bg1:#031c47;--bg2:#072f73;--highlight:#ffd400;}
body{
  margin:0;font-family:"Mitr",sans-serif;color:#fff;
  background:linear-gradient(180deg,var(--bg1),var(--bg2));
  display:flex;justify-content:center;align-items:center;min-height:100vh;
}
.container{
  width:95vw;max-width:900px;background:rgba(255,255,255,0.08);
  border:5px solid var(--highlight);border-radius:20px;
  padding:20px;text-align:center;box-shadow:0 0 20px rgba(255,255,255,0.3);
}
table{
  width:100%;border-collapse:collapse;background:#fff;color:#05245a;
  border-radius:12px;overflow:hidden;font-size:18px;margin-top:20px;
  opacity:0;transform:translateY(30px);
  transition:opacity 1s ease,transform 1s ease;
}
table.show{opacity:1;transform:translateY(0);}
th,td{border:1px solid #ccc;padding:10px;}
th{background:var(--highlight);color:#05245a;}
tr.fade-row{
  opacity:0;transform:translateY(10px);
  transition:opacity 0.6s ease,transform 0.6s ease;
}
tr.fade-row.show{opacity:1;transform:translateY(0);}
button{
  background:var(--highlight);color:#05245a;border:none;border-radius:10px;
  padding:10px 20px;font-size:18px;font-weight:700;cursor:pointer;margin:10px;
  transition:transform 0.15s;
}
button:hover{transform:scale(1.05);}
#loading{
  font-size:22px;color:var(--highlight);
  animation:blink 1s infinite;
}
@keyframes blink{50%{opacity:0.4;}}
</style>
</head>
<body>
<div class="container">
  <h1>üèÜ ‡∏™‡∏£‡∏∏‡∏õ‡∏ú‡∏•‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô üèÜ</h1>
  <div id="loading">‚è≥ ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•...</div>

  <table id="scoreTable">
    <thead><tr><th>‡∏≠‡∏±‡∏ô‡∏î‡∏±‡∏ö</th><th>‡∏Å‡∏•‡∏∏‡πà‡∏°</th><th>‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</th></tr></thead>
    <tbody id="tbody"></tbody>
  </table>

  <button id="backBtn">‚¨ÖÔ∏è ‡∏Å‡∏•‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏£‡∏Å</button>
  <button id="revealBtn">üìã ‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡∏î‡∏π‡πÄ‡∏â‡∏•‡∏¢</button>

  <audio id="dingSound" src="Ding.mp3" preload="auto"></audio>
</div>

<script>
const tbody = document.getElementById('tbody');
const scoreTable = document.getElementById('scoreTable');
const loading = document.getElementById('loading');
const dingSound = document.getElementById('dingSound');

const scoreData = JSON.parse(localStorage.getItem('scoreData') || '[]');

async function wait(ms){return new Promise(r=>setTimeout(r,ms));}

async function showScores(){
  if(!scoreData.length){
    tbody.innerHTML='<tr><td colspan="3">‚ùå ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</td></tr>';
    scoreTable.classList.add('show');
    loading.style.display='none';
    return;
  }

  // ‡∏£‡∏≠‡∏à‡∏≥‡∏•‡∏≠‡∏á‡πÇ‡∏´‡∏•‡∏î 1.2 ‡∏ß‡∏¥
  await wait(1200);
  loading.style.display='none';
  scoreTable.classList.add('show');

  // ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÅ‡∏ñ‡∏ß‡∏ó‡∏µ‡∏•‡∏∞‡∏ö‡∏£‡∏£‡∏ó‡∏±‡∏î + ‡πÄ‡∏™‡∏µ‡∏¢‡∏á
  for(let i=0;i<scoreData.length;i++){
    const r=scoreData[i];
    const tr=document.createElement('tr');
    tr.className='fade-row';
    let logo='';
    if(i===0) logo='ü•á';
    else if(i===1) logo='ü•à';
    else if(i===2) logo='ü•â';

    tr.innerHTML=`<td>${logo||i+1}</td><td>‡∏Å‡∏•‡∏∏‡πà‡∏° ${r.group}</td><td>${r.score}</td>`;
    tbody.appendChild(tr);
    await wait(300);
    tr.classList.add('show');
    dingSound.currentTime=0;
    dingSound.play();
  }
}

document.getElementById('backBtn').onclick=()=>{
  localStorage.clear();
  location.href='index.html';
};
document.getElementById('revealBtn').onclick=()=>{
  location.href='result.html';
};

showScores();
</script>
</body>
</html>
