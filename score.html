<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>‡∏™‡∏£‡∏∏‡∏õ‡∏ú‡∏•‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô | TOP25</title>
<link href="https://fonts.googleapis.com/css2?family=Mitr:wght@400;600;700&display=swap" rel="stylesheet">
<style>
:root{--bg1:#031c47;--bg2:#072f73;--highlight:#ffd400;}
body{
  margin:0;font-family:"Mitr",sans-serif;color:#fff;
  background:linear-gradient(180deg,var(--bg1),var(--bg2));
  display:flex;justify-content:center;align-items:center;min-height:100vh;
}
.container{
  width:95vw;max-width:900px;background:rgba(255,255,255,0.08);
  border:5px solid var(--highlight);border-radius:20px;padding:20px;text-align:center;
}
#loading{
  font-size:22px;color:var(--highlight);
  animation:blink 1s infinite;
}
@keyframes blink{
  0%,100%{opacity:1;}
  50%{opacity:0.5;}
}
table{
  width:100%;border-collapse:collapse;background:#fff;color:#05245a;
  border-radius:12px;overflow:hidden;font-size:18px;margin-top:20px;
  opacity:0;transform:translateY(20px);
  transition:opacity 0.8s ease, transform 0.8s ease;
}
table.show{
  opacity:1;
  transform:translateY(0);
}
th,td{border:1px solid #ccc;padding:10px;}
th{background:var(--highlight);color:#05245a;}
tr.gold td{background:#fff6a8;font-weight:700;}
tr.silver td{background:#e0e0e0;font-weight:700;}
tr.bronze td{background:#ffd9b3;font-weight:700;}
button{
  background:var(--highlight);color:#05245a;border:none;border-radius:10px;
  padding:10px 20px;font-size:18px;font-weight:700;cursor:pointer;margin:10px;
  opacity:0;transform:translateY(10px);
  transition:opacity 0.6s ease, transform 0.6s ease;
}
button.show{
  opacity:1;transform:translateY(0);
}
</style>
</head>
<body>
<div class="container">
  <h1>üèÜ ‡∏™‡∏£‡∏∏‡∏õ‡∏ú‡∏•‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô üèÜ</h1>
  <div id="loading">‚è≥ ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•...</div>
  <table id="scoreTable">
    <thead><tr><th>‡∏≠‡∏±‡∏ô‡∏î‡∏±‡∏ö</th><th>‡∏Å‡∏•‡∏∏‡πà‡∏°</th><th>‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</th></tr></thead>
    <tbody id="tbody"></tbody>
  </table>
  <button id="backBtn">‚¨ÖÔ∏è ‡∏Å‡∏•‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏£‡∏Å</button>
  <button id="revealBtn">üìã ‡∏Å‡∏•‡∏±‡∏ö‡πÑ‡∏õ‡∏î‡∏π‡πÄ‡∏â‡∏•‡∏¢</button>
</div>

<script>
const tbody=document.getElementById('tbody');
const loading=document.getElementById('loading');
const scoreTable=document.getElementById('scoreTable');
const backBtn=document.getElementById('backBtn');
const revealBtn=document.getElementById('revealBtn');

function wait(ms){return new Promise(res=>setTimeout(res,ms));}

async function loadScores(){
  // ‡∏ã‡πà‡∏≠‡∏ô‡∏ó‡∏∏‡∏Å‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏Å‡πà‡∏≠‡∏ô
  scoreTable.classList.remove('show');
  backBtn.classList.remove('show');
  revealBtn.classList.remove('show');
  scoreTable.style.display='none';
  backBtn.style.display='none';
  revealBtn.style.display='none';

  await wait(1500); // ‡∏£‡∏≠‡πÇ‡∏´‡∏•‡∏î 1.5 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ
  const scoreData=JSON.parse(localStorage.getItem('scoreData')||'[]');

  loading.style.display='none';
  scoreTable.style.display='table';

  if(!scoreData.length){
    tbody.innerHTML='<tr><td colspan="3">‚ùå ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô</td></tr>';
  } else {
    tbody.innerHTML='';
    scoreData.forEach((r,i)=>{
      const tr=document.createElement('tr');
      let rankIcon='',rankClass='';
      if(i===0){rankIcon='ü•á';rankClass='gold';}
      else if(i===1){rankIcon='ü•à';rankClass='silver';}
      else if(i===2){rankIcon='ü•â';rankClass='bronze';}
      else{rankIcon=i+1;}
      tr.className=rankClass;
      tr.innerHTML=`<td>${rankIcon}</td><td>${r.group}</td><td>${r.score}</td>`;
      tbody.appendChild(tr);
    });
  }

  // ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏≠‡∏ü‡πÄ‡∏ü‡∏Å‡∏ï‡πå fade-in
  await wait(100);
  scoreTable.classList.add('show');
  backBtn.style.display='inline-block';
  revealBtn.style.display='inline-block';
  await wait(200);
  backBtn.classList.add('show');
  await wait(200);
  revealBtn.classList.add('show');
}

loadScores();

backBtn.onclick=()=>{localStorage.clear();location.href='index.html';};
revealBtn.onclick=()=>{location.href='result.html';};
</script>
</body>
</html>
